[
  {
    "suite": "Projects - Ana Akışlar",
    "cases": [
      {
        "external_id": "CRM-PROJECTS-301",
        "title": "Projeyi oluştur sihirbazında yeni kişi ekleyip doğrulama",
        "description": "/projects sayfasındaki sihirbazda yeni kişi açarak projeyi başlatma ve kişinin /leads listesinde belirdiğini doğrulama.",
        "steps": [
          {
            "action": "Projeler sayfasını açın ve üst sağ köşedeki \"Proje Ekle\" butonuna tıklayın.",
            "expected_result": "“Proje oluştur” başlıklı dört adımlı sihirbaz yan tarafta açılır."
          },
          {
            "action": "\"İleri\" butonuna basarak Kişi adımını atlamaya çalışın.",
            "expected_result": "Kırmızı uyarı “Bir kişi seçin” mesajını gösterir ve adım değişmez."
          },
          {
            "action": "\"Yeni kişi oluştur\" düğmesine tıklayın, açılan mini formda ad ve iletişim bilgilerini girip kaydedin.",
            "expected_result": "Form kapanır, oluşturduğunuz yeni kişi otomatik seçilir ve adı adım listesindeki özet alanına yazılır."
          },
          {
            "action": "\"İleri\" butonuna basıp proje detaylarını tamamlayın, sihirbazı bitirerek projeyi oluşturun.",
            "expected_result": "Başarı bildirimi çıkar ve proje listede görünür."
          },
          {
            "action": "Yeni kişi adını not edin ve /leads sayfasına gidip arama alanına yazın.",
            "expected_result": "Kişi listede bulunur; detay sayfasında Projeler kartı az önce oluşturulan projeyi gösterir."
          }
        ],
        "expected_result": "Sihirbaz yeni kişi oluşturup projeye bağlayabilir; oluşturulan kişi Kişiler sayfasında görünür ve projeyle ilişkili olur."
      },
      {
        "external_id": "CRM-PROJECTS-312",
        "title": "Projeyi oluştur sihirbazında mevcut kişi seçme",
        "description": "Sihirbazda var olan bir kişiyi seçip projeyi tamamlamayı ve lead detayında kartın güncellendiğini doğrular.",
        "steps": [
          {
            "action": "Projeler sayfasında \"Proje Ekle\" butonuna tıklayın.",
            "expected_result": "Sihirbaz açılır ve Kişi adımı görünür."
          },
          {
            "action": "Arama alanına mevcut bir kişinin adını yazın ve sonuç listesinden seçin.",
            "expected_result": "Seçilen kişi adım listesindeki özet alanında görünür."
          },
          {
            "action": "\"İleri\" butonuna basıp detaylar ve paketler adımlarını tamamlayın.",
            "expected_result": "Sihirbaz sorunsuz ilerler ve proje başarıyla oluşturulur."
          },
          {
            "action": "Kişiler sayfasına gidip seçtiğiniz kişiyi açın.",
            "expected_result": "Detay sayfasındaki Projeler kartı yeni oluşturulan projeyi listeler; proje adına tıklandığında ilgili proje açılır."
          }
        ],
        "expected_result": "Mevcut bir kişiyle başlatılan proje hem /projects listesinde hem de ilgili kişi detayında görünür."
      },
      {
        "external_id": "CRM-PROJECTS-302",
        "title": "Detaylar adımında proje adı ve türü zorunludur",
        "description": "Detaylar ekranında zorunlu alanlar boş bırakıldığında gösterilen hata mesajlarını doğrular.",
        "steps": [
          {
            "action": "Detaylar adımında \"Proje adı\" ve \"Proje türü\" alanlarını boş bırakıp \"İleri\" butonuna basın.",
            "expected_result": "Alanların altında kırmızı uyarılar çıkar ve adım değişmez."
          },
          {
            "action": "\"Proje adı\"na \"Yaz Çekimi\" yazın, tür açılır listesinden mevcut bir tür seçin ve isteğe bağlı açıklama ekleyin.",
            "expected_result": "Uyarılar kaybolur, adım listesinde seçilen ad ve tür küçük gri yazıyla görünür."
          },
          {
            "action": "\"İleri\" butonuna basın.",
            "expected_result": "Sihirbaz “Paketler ve hizmetler” adımına ilerler."
          }
        ],
        "expected_result": "Detaylar adımı geçmeden önce proje adı ve türü girilmelidir; doğru doldurulduğunda kullanıcı paketler adımına geçebilir."
      },
      {
        "external_id": "CRM-PROJECTS-303",
        "title": "Paket seçme ve hizmetleri düzenleme",
        "description": "Paketler adımında bir paket seçilmesini ve \"Hizmetleri düzenle\" paneliyle hizmet eklenmesini doğrular.",
        "steps": [
          {
            "action": "Paketler adımında listelenen paket kartlarından birine tıklayın.",
            "expected_result": "Kart \"Seçili\" rozetini alır ve sağ üstte paket adı özet bölümüne eklenir."
          },
          {
            "action": "\"Hizmetleri düzenle\" düğmesine tıklayın.",
            "expected_result": "Hizmetleri düzenle paneli açılır; paket dahilindeki ve ek hizmetler sekmeler halinde görünür."
          },
          {
            "action": "Ek hizmetler sekmesinden bir hizmet seçin, adetini güncelleyin ve \"Hizmetleri kaydet\" düğmesine basın.",
            "expected_result": "Panel kapanır, seçilen hizmet sayacı \"Ek hizmet\" rozetinde artar."
          },
          {
            "action": "\"İleri\" düğmesiyle özet adımına geçin.",
            "expected_result": "Özet kartında paket adı ve hizmet sayısı doğru şekilde listelenir."
          }
        ],
        "expected_result": "Paket seçimi ve hizmet düzenleme işlemleri paket özetine yansır ve kullanıcıyı özet adımına taşır."
      },
      {
        "external_id": "CRM-PROJECTS-304",
        "title": "Sihirbazı tamamlayıp yeni projeyi listede görme",
        "description": "Özet adımında bilgiler kontrol edilip proje oluşturulduktan sonra listenin güncellendiğini doğrular.",
        "steps": [
          {
            "action": "Özet adımında fiyat kartlarını ve kişi/proje kartlarını inceleyin.",
            "expected_result": "Kapora, paket fiyatı ve hizmet toplamları “Kontrol edin ve onaylayın” bölümünde gösterilir."
          },
          {
            "action": "\"Projeyi oluştur\" düğmesine basın.",
            "expected_result": "Buton \"Oluşturuluyor…\" durumuna geçer ve yeşil bir bildirim başarılı olduğunu belirtir."
          },
          {
            "action": "Sihirbaz kapandıktan sonra liste görünümüne dönüp arama kutusuna yeni proje adını yazın.",
            "expected_result": "Yeni proje satırı sonuçlarda görünür, seçtiğiniz proje türü sütununda listelenir."
          }
        ],
        "expected_result": "Sihirbaz tamamlandığında proje oluşturulur, toast gösterilir ve kayıt liste görünümünde aranarak bulunabilir."
      },
      {
        "external_id": "CRM-PROJECTS-305",
        "title": "Kanban, Liste ve Arşiv görünümleri arasında geçiş",
        "description": "Üstteki görünüm sekmeleriyle proje kartlarının farklı görünüm modlarına geçtiğini doğrular.",
        "steps": [
          {
            "action": "Kanban sekmesine tıklayın (varsayılan görünüm).",
            "expected_result": "Sütunlar proje durumlarına göre sıralanır ve kartlar sürüklenebilir halde görünür."
          },
          {
            "action": "Bir kartı sürükleyerek başka bir sütuna bırakın.",
            "expected_result": "Kart yeni sütuna taşınır ve üstte \"Proje … durumuna taşındı\" bildirimi görünür."
          },
          {
            "action": "\"Liste\" sekmesine geçin.",
            "expected_result": "Tablo görünümü açılır, sütun başlıkları ve filtre kısımları aktif olur."
          },
          {
            "action": "\"Arşivlendi\" sekmesine geçin.",
            "expected_result": "Arşivlenmiş projeleri gösteren ikinci tablo açılır ve sekmenin yanında arşiv sayısı rozet olarak görünür."
          }
        ],
        "expected_result": "Kullanıcı tek tıkla Kanban/List/Arşiv görünümüne geçebilir; kart sürükleme işlemi durumları günceller."
      },
      {
        "external_id": "CRM-PROJECTS-306",
        "title": "Liste görünümünde filtre uygulama ve Excel’e aktarma",
        "description": "Proje tablosunda filtre panelinin kullanılması ve sonuçların Excel olarak indirilmesi.",
        "steps": [
          {
            "action": "Liste görünümünde tablonun üstündeki \"Filtreler\" düğmesine tıklayın.",
            "expected_result": "Sağda tür, durum ve hizmet gibi seçenekleri içeren filtre paneli açılır."
          },
          {
            "action": "Bir proje türü ve bir durum seçip \"Uygula\" düğmesine basın.",
            "expected_result": "Tablo yalnızca seçilen kriterlerle eşleşen projeleri gösterir, özet satırında filtre bilgisi görünür."
          },
          {
            "action": "Tablonun sağ üstündeki \"Excel'e aktar\" menüsünü kullanarak dışa aktarma işlemini başlatın.",
            "expected_result": "Buton kısa süreli \"Yükleniyor\" simgesi gösterir, ardından \"Dışa aktarma hazır\" bildirimi çıkar ve .xlsx dosyası indirilir."
          }
        ],
        "expected_result": "Filtrelenen listeyi tek tıkla Excel formatında indirebilir ve filtrelerin sadece ilgili kayıtları döndürdüğünü görebilirsiniz."
      },
      {
        "external_id": "CRM-PROJECTS-307",
        "title": "Proje hızlı görünümünde başlığı düzenleme",
        "description": "Liste satırına tıklayınca açılan hızlı görünümde proje adının güncellenmesini doğrular.",
        "steps": [
          {
            "action": "Liste tablosunda herhangi bir projeye tıklayın.",
            "expected_result": "Sağda proje detaylarını gösteren kaydırmalı panel açılır."
          },
          {
            "action": "Panelin üst kısmındaki proje adının yanındaki kalem ikonuna tıklayın.",
            "expected_result": "Ad alanı düzenlenebilir hale gelir ve altında \"Kaydet\"/\"İptal\" butonları görünür."
          },
          {
            "action": "Yeni bir ad yazıp \"Kaydet\" butonuna basın.",
            "expected_result": "Yeşil bildirim \"Proje başarıyla güncellendi\" mesajını gösterir ve panel başlığı yeni adla güncellenir."
          },
          {
            "action": "Paneli kapatıp tabloyu yenileyin veya arama kutusunda yeni adı kontrol edin.",
            "expected_result": "Liste satırı da güncellenmiş proje adını gösterir."
          }
        ],
        "expected_result": "Proje adı hızlı görünümde düzenlenebilir ve hem panelde hem de listede anında güncellenir."
      },
      {
        "external_id": "CRM-PROJECTS-308",
        "title": "Kapora ayarlama ve kapora ödemesi kaydetme",
        "description": "Kapora bilgisi otomatik gelen projelerde karttaki verilerin doğru görünmesini, düzenlenmesini ve ödeme sheet'inin davranışlarını doğrular.",
        "steps": [
          {
            "action": "Yeni bir proje oluştururken kaporası tanımlı hazır paketi seçin ve hedef projeyi açın.",
            "expected_result": "Proje açıldığında kapora kartı otomatik olarak \"₺X kapora bekleniyor\" bilgisini gösterir; tutar paket konfigürasyonuyla aynıdır."
          },
          {
            "action": "Kartın sağındaki \"Düzenle\" butonuna tıklayın, sabit tutarı farklı bir değerle değiştirip \"Kapora kaydet\"’e basın.",
            "expected_result": "Panel kapanır; başlığın altındaki metin yeni tutarla güncellenir ve ödemeler listesinde kapora satırındaki tutar da yeni değeri gösterir."
          },
          {
            "action": "Sağdaki \"Ödeme işle\" butonunu seçin.",
            "expected_result": "Kapora ödeme sheet'i açılır; tutar alanı boş gelir ve bilgi kutusunda kalan kapora tutarı gösterilir.",
            "notes": "Sheet açılır açılmaz kapatma simgesine basıldığında herhangi bir uyarı çıkmadığını doğrulayın."
          },
          {
            "action": "Sheet'i tekrar açıp \"Kalan tutarı doldur\" bağlantısına tıklayın; tarih alanını bugün dışında farklı bir tarih seçip \"Ödeme kaydet\" ile kaydedin.",
            "expected_result": "Bağlantı tutarı otomatik doldurur; kaydettikten sonra kartta durum \"Kapora tahsil edildi\" (veya kalan varsa \"Kısmi ödeme\") olarak görünür, \"Son kapora ödemesi\" satırı seçtiğiniz tarih ile güncellenir ve ödemeler tablosunda yeni kayıt doğru tarih/tutarla listelenir."
          }
        ],
        "expected_result": "Kapora kartı paketlerden gelen tutarı doğru gösterir, düzenlemeler anında kart ve satırlara yansır, ödeme sheet'i varsayılan olarak boş açılır ve hem \"Kalan tutarı doldur\" bağlantısı hem de tarih seçimi ödeme kaydı ve kart özetini doğru şekilde günceller."
      },
      {
        "external_id": "CRM-PROJECTS-308B",
        "title": "Kapora tutarını sabitleme ve fark yönetimi",
        "description": "Kapora kilitleme akışını, yeni hizmet eklendiğinde çıkan uyarıyı ve iki aksiyonun (tutarı güncelle / farkı kalan tutara taşı) davranışlarını doğrular.",
        "steps": [
          {
            "action": "Kapora ayarlı projeyi açın ve kartta \"Kapora tutarını sabitle\" butonuna tıklayın.",
            "expected_result": "Buton kaybolur; kart altında \"Kapora ₺X olarak sabitlendi\" bilgisi ve kilitleme tarihi görüntülenir."
          },
          {
            "action": "Projeye yeni bir ücretli hizmet ekleyin ya da paket fiyatını artırın.",
            "expected_result": "Kartın altında sarı uyarı bloğu belirir; mevcut kilit ile yeni hesaplanan tutar arasındaki fark gösterilir ve iki aksiyon (\"Tutarı güncelle\" ve \"Mevcut tutarı koru\") aktif hale gelir."
          },
          {
            "action": "\"Tutarı güncelle\"yi seçin.",
            "expected_result": "Uyarı kapanır, kilitli tutar yeni hesapla eşitlenir ve kilitleme tarihi güncellenir."
          },
          {
            "action": "Tekrar yeni bir hizmet ekleyip bu sefer \"Mevcut tutarı koru\" aksiyonunu seçin.",
            "expected_result": "Uyarı kapanır, kilitli tutar değişmez ancak karttaki bilgi \"Kapora {{amount}} olarak sabitlendi\" şeklinde kalır ve depozit farkı ödeme özetinin \"Kalan\" alanına yansır."
          }
        ],
        "expected_result": "\"Kapora tutarını sabitle\" aksiyonu kilit bilgisi ve tarihini günceller; yeni hizmet eklendiğinde çıkan banner doğru tutarları gösterir ve iki aksiyon da ilgili senaryoya göre kilidi güncellemeden hata vermeden tamamlanır."
      },
      {
        "external_id": "CRM-PROJECTS-308C",
        "title": "İade sheet'i ve kapora iadesi akışı",
        "description": "İade kısayolunun yeni toggle yerleşimini, \"ödenen tutarın tamamını iade et\" butonunu ve kapora kartı/ödemeler listesindeki etkilerini doğrular.",
        "steps": [
          {
            "action": "Kaporasının tamamı tahsil edilmiş bir projede \"İade\" hızlı aksiyonuna tıklayın.",
            "expected_result": "\"İade\" sheet'i açılır; kapora toggle'ı kartın en üstünde kapalı olarak gelir, altında tutar girişi boş ve \"Ödenen tutarın tamamını iade et\" bağlantısı görünür."
          },
          {
            "action": "\"Ödenen tutarın tamamını iade et\" bağlantısına basın.",
            "expected_result": "Bağlantı iade tutar alanını mevcut toplam tahsilatla doldurur; bağlantı pasifleşir ve kullanıcı isterse değeri elle değiştirebilir."
          },
          {
            "action": "\"Kapora iadesi olarak uygula\" switch'ini açın.",
            "expected_result": "Helper metin kaporadan ne kadar düşüleceğini belirtir; toggle açıkken sheet kapanmaya çalışıldığında Navigation Guard uyarısı çıkar ve \"Kal\" seçildiğinde sheet açık kalır."
          },
          {
            "action": "İade kaydını tamamlayın.",
            "expected_result": "Ödemeler tablosuna kırmızı tutarlı yeni satır eklenir; satırda \"İade\" rozeti ve \"Kapora iadesi: -₺X\" etiketi görünür."
          },
          {
            "action": "Kapora kartını kontrol edin.",
            "expected_result": "Karttaki durum 'Kapora tahsil edildi' yerine yeni bakiyeye göre güncellenir (örn. 'Kapora bekleniyor' veya 'Kısmi'). Aynı zamanda bilgi satırı \"Kapora iade edildi\" mesajını gösterir ve kalan tutar yeniden hesaplanır."
          }
        ],
        "expected_result": "İade sheet'i toggle'ın üstte ve varsayılan kapalı olduğunu gösterir; \"Ödenen tutarın tamamını iade et\" bağlantısı tutarı doldurur, kaydedilen iade satırı kırmızı renkte listelenir ve kapora kartı anında yeni statüye göre güncellenir."
      },
      {
        "external_id": "CRM-PROJECTS-309",
        "title": "Manuel ödeme ekleme, düzenleme ve silme",
        "description": "Ödemeler tablosunda manuel kayıt oluşturma, düzenleme ve kaldırma akışını doğrular.",
        "steps": [
          {
            "action": "\"Ödeme Ekle\" butonuna tıklayın.",
            "expected_result": "\"Ödeme Ekle\" başlıklı sheet açılır; üstte kalan tutarı ve kapora durumunu özetleyen helper metinler gösterilir, tutar alanı boş gelir ve sağ üstte \"Kalan tutarı doldur\" bağlantısı görünür."
          },
          {
            "action": "\"Kalan tutarı doldur\" bağlantısına tıklayın ve hemen ardından sheet'i kapatma ikonuna basın.",
            "expected_result": "Tutar alanı outstanding tutarla dolar; kapatma ikonuna basınca Navigation Guard uyarısı çıkar, \"Kal\" seçildiğinde sheet açık kalır ve girilen değer silinmez."
          },
          {
            "action": "Tutarı manuel olarak değiştirin, durumu \"Ödendi\" seçin, isteğe bağlı açıklama ekleyin ve kaydedin.",
            "expected_result": "Ödemeler listesine yeni satır eklenir; satırdaki rozet \"Ödendi\" olarak belirir ve açıklama bilgisi listelenir."
          },
          {
            "action": "Satırdaki kalem ikonuna tıklayıp açıklamayı değiştirin, ardından kaydedin.",
            "expected_result": "Satır güncellenir, gerekirse \"Kapora payı\" etiketi yeni tutara göre yeniden hesaplanır ve son düzenleme tarihi yenilenir."
          },
          {
            "action": "Aynı satırdaki çöp kutusu ikonuna basıp silme uyarısını onaylayın.",
            "expected_result": "Satır listeden kaldırılır ve \"Ödeme başarıyla silindi\" mesajı çıkar."
          }
        ],
        "expected_result": "Manuel ödemeler sheet'i boş tutar alanıyla açılır, \"Kalan tutarı doldur\" bağlantısı ve Navigation Guard çalışır; kayıt eklendiğinde rozet/kapora payı alanları doğru güncellenir ve akış silme dahil sorunsuz tamamlanır."
      },
      {
        "external_id": "CRM-PROJECTS-310",
        "title": "Projeye hizmet ekleme ve fiyat özetinin güncellenmesi",
        "description": "Ödemeler kartındaki \"Hizmet ekle\" akışının seçilen hizmetleri kalite kartlarına yansıttığını doğrular.",
        "steps": [
          {
            "action": "\"Hizmet ekle\" butonuna tıklayın ve açılan seçim panelinde katalogdan bir hizmet seçin.",
            "expected_result": "Hizmet satırı seçildi olarak işaretlenir; adet ve fiyat alanları düzenlenebilir."
          },
          {
            "action": "Adet veya fiyat üzerinde değişiklik yapıp \"Hizmetleri kaydet\" butonunu seçin.",
            "expected_result": "Panel kapanır, \"Proje hizmetleri\" kartındaki sayılar (pakete dahil / ek hizmet) güncellenir."
          },
          {
            "action": "Finansal özet kartına bakın.",
            "expected_result": "Sözleşme toplamı ve KDV satırları yeni hizmetin tutarını dahil edecek şekilde güncellenmiştir."
          }
        ],
        "expected_result": "Hizmet ekleme/düzenleme işlemleri kart özetlerine ve toplam fiyatlara anında yansır."
      },
      {
        "external_id": "CRM-PROJECTS-311",
        "title": "Projeyi arşivleme ve geri yükleme",
        "description": "Proje panelindeki arşiv seçeneklerinin projeyi aktif/arşiv görünümünden taşıdığını doğrular.",
        "steps": [
          {
            "action": "Proje panelinin üst kısmındaki üç noktadan \"Arşivle\" seçeneğini tıklayın.",
            "expected_result": "Arşiv onay penceresi açılır; varsa tahsil edilmemiş bakiye ve planlı seans bilgisi gösterilir."
          },
          {
            "action": "Onayı verin.",
            "expected_result": "Yeşil toast projeyi arşivlediğini bildirir ve panel kapanır."
          },
          {
            "action": "\"Arşivlendi\" sekmesine geçip projeyi arayın.",
            "expected_result": "Proje arşiv tablosunda listelenir."
          },
          {
            "action": "Arşiv satırındaki üç noktadan \"Arşivden çıkar\" seçeneğine tıklayın.",
            "expected_result": "Proje yeniden aktif hale gelir ve Kanban/List görünümüne döner."
          }
        ],
        "expected_result": "Arşivleme işlemi proje durumunu arşiv sekmesine taşır; kullanıcı isterse aynı menüden projeyi geri yükleyebilir."
      },
      {
        "external_id": "CRM-PROJECTS-313",
        "title": "Aktivite ve Geçmiş sekmeleriyle proje notlarını takip etme",
        "description": "Proje detay panelindeki Aktivite kartında not ekleme ve Geçmiş sekmesine geçişi doğrular.",
        "steps": [
          {
            "action": "Herhangi bir projeyi açarak sağdaki hızlı görünümde 'Aktivite' kartını bulun.",
            "expected_result": "Kartta 'Aktivite' ve 'Geçmiş' etiketli iki sekme görünür, altındaki form not girişi içindir."
          },
          {
            "action": "Not alanına kısa bir yorum yazıp 'Not Ekle' butonuna basın.",
            "expected_result": "Buton kısa süreli 'Kaydediliyor' durumuna geçer ve yeni not zaman çizelgesinin en üstüne eklenir."
          },
          {
            "action": "'Geçmiş' sekmesine tıklayın.",
            "expected_result": "Kayıtlı sistem değişiklikleri (statü, hizmet vb.) kronolojik olarak listelenir."
          },
          {
            "action": "Tekrar 'Aktivite' sekmesine dönün.",
            "expected_result": "Az önce eklediğiniz not hâlâ listenin en üstünde görünür ve saat damgası gösterir."
          }
        ],
        "expected_result": "Kullanıcı aynı panelde yeni not ekleyip Aktivite/Geçmiş sekmeleri arasında geçiş yapabilir, not hemen görünür."
      },
      {
        "external_id": "CRM-PROJECTS-332",
        "title": "Proje detay aktivite kartında hatırlatıcı rozetleri ve tamamla/geri al",
        "description": "ProjectDetail sayfasındaki Aktivite kartında hatırlatıcı kartlarının durum rozetleri ve tamamlanma butonlarıyla çalıştığını doğrular.",
        "steps": [
          {
            "action": "/projects listesinden herhangi bir projeyi açarak tam ekran proje detay sayfasına gidin ve \"Aktivite\" kartına kaydırın; tarihli bir hatırlatıcı yoksa kartın üstündeki formdan bugün/yakın tarih için bir hatırlatıcı ekleyin.",
            "expected_result": "Zaman çizelgesinin en üstünde hatırlatıcı kartı görünür; kartta seçilen tarihe göre \"Gecikmiş/Bugün/Yarın\" rozetlerinden biri, \"Kişi: <isim>\" satırı ve saat bilgisi yer alır."
          },
          {
            "action": "Kartın sağ tarafındaki \"Tamamlandı olarak işaretle\" butonuna tıklayın.",
            "expected_result": "Kısa süreli başarı tostu çıkar, kart soluklaşır ve üst kısmında yeşil \"Tamamlandı\" rozeti görünür; metin üzerine strikethrough uygulanır."
          },
          {
            "action": "Hemen ardından beliren \"Tamamlanmadı olarak işaretle\" butonuna basın.",
            "expected_result": "Kart eski renklere döner, tarih bazlı rozet tekrar görünür ve sayfayı yenilemeye gerek kalmaz."
          }
        ],
        "expected_result": "Proje aktivitelerindeki hatırlatıcı kartları tarih rozetlerini doğru gösterir ve tamamla/geri al aksiyonlarıyla tek tıkta güncellenir."
      },
      {
        "external_id": "CRM-PROJECTS-333",
        "title": "Proje aktivite kartından ilgili kişiyi açma",
        "description": "Hatırlatıcı kartlarında yer alan \"Kişiyi aç\" kısayolunun kullanıcıyı doğru lead detayına götürdüğünü doğrular.",
        "steps": [
          {
            "action": "Aynı proje detay sayfasında hatırlatıcı kartının altındaki aksiyon satırını inceleyin.",
            "expected_result": "\"Kişiyi aç\" butonu ve yanında yukarı ok ikonu görünür."
          },
          {
            "action": "\"Kişiyi aç\" butonuna tıklayın.",
            "expected_result": "Uygulama yeni sekme açmadan `/leads/:id` detay sayfasına gider; başlıkta ilgili lead adı görünür."
          },
          {
            "action": "Tarayıcı geri hareketiyle tekrar proje detay sayfasına dönün.",
            "expected_result": "Proje aktivite kartı aynı scroll konumunda kalır ve az önce açtığınız hatırlatıcı halen listede görünür."
          }
        ],
        "expected_result": "Hatırlatıcı kartındaki lead kısayolu, proje bağlamından çıkmadan doğru kişi detayına hızlı erişim sağlar."
      },
      {
        "external_id": "CRM-PROJECTS-314",
        "title": "Yapılacaklar listesi ve ilerleme çubuğunu güncelleme",
        "description": "Project Todo kartında görev ekleme, tamamlamaya işaretleme ve ilerleme çubuğunun güncellenmesini doğrular.",
        "steps": [
          {
            "action": "Proje panelindeki 'Yapılacaklar' kartını bulun ve 'Yeni yapılacak ekle...' alanına kısa bir görev yazın.",
            "expected_result": "Alan altındaki 'Yapılacak Ekle' butonu aktif olur."
          },
          {
            "action": "'Yapılacak Ekle' butonuna basın.",
            "expected_result": "Görev listeye eklenir ve ilerleme yüzdesi bir miktar artar."
          },
          {
            "action": "Görev satırındaki kutucuğu işaretleyerek tamamlandı olarak işaretleyin.",
            "expected_result": "Satır griye döner, çubuğun yüzdesi artar ve yeşil toast 'Yapılacak tamamlandı' der."
          },
          {
            "action": "Kutucuğu tekrar kaldırıp görevi 'tamamlanmadı' durumuna alın.",
            "expected_result": "Satır eski haline döner, ilerleme yüzdesi geriye çekilir."
          }
        ],
        "expected_result": "Görev ekleme/düzenleme işlemleri çubuk yüzdesini dinamik günceller ve kullanıcılara net geri bildirim verir."
      },
      {
        "external_id": "CRM-PROJECTS-315",
        "title": "Projeyi panelden farklı bir duruma alma",
        "description": "Proje detay panelindeki durum menüsüyle statü değiştirmeyi test eder.",
        "steps": [
          {
            "action": "Proje panelinin üst kısmındaki durum rozetine tıklayın.",
            "expected_result": "Kullanılabilir statülerin listelendiği bir menü açılır."
          },
          {
            "action": "Farklı bir statü seçin (ör. 'Teslimatta').",
            "expected_result": "Rozet yeni renge/etikete geçer ve kısa süreli başarı mesajı çıkar."
          },
          {
            "action": "Aktivite kartının Geçmiş sekmesini kontrol edin.",
            "expected_result": "Son zaman satırı statü değişikliğini kaydeder."
          }
        ],
        "expected_result": "Panel üstünden statü değiştirildiğinde hem rozet hem de tarihçe anında güncellenir."
      },
      {
        "external_id": "CRM-PROJECTS-316",
        "title": "Projeden seans planlayıp düzenleme",
        "description": "Proje hızlı görünümünden seans planlama ve düzenleme akışını kapsar.",
        "steps": [
          {
            "action": "Proje panelinde 'Seans Planla' (veya 'Seans Ekle') butonuna tıklayın.",
            "expected_result": "Seans planlama paneli proje bağlamıyla açılır ve kişi alanı otomatik seçilidir."
          },
          {
            "action": "Takvimden tarih ve saat seçip seansı kaydedin.",
            "expected_result": "Toast seansın eklendiğini söyler ve seans kartında yaklaşan tarih görünür."
          },
          {
            "action": "Seans satırındaki düzenle ikonuna tıklayıp zamanı değiştirin.",
            "expected_result": "Diyalog yeni saatle kaydedilir, seans listesi güncellenir ve Aktivite kartına yeni kayıt eklenir."
          }
        ],
        "expected_result": "Projeden planlanan seanslar kolayca düzenlenebilir ve özet kartları anında güncellenir."
      },
      {
        "external_id": "CRM-PROJECTS-317",
        "title": "Hizmet/fiyat değişikliklerinin ödeme özetine etkisi",
        "description": "Projetin Ödemeler kartında hizmet fiyatı değiştirildiğinde toplamların nasıl güncellendiğini doğrular.",
        "steps": [
          {
            "action": "Ödemeler kartında 'Hizmet ekle' düğmesine tıklayıp bir hizmet seçin.",
            "expected_result": "Hizmet seçimi paneli açılır ve paket/ek sekmeleri görünür."
          },
          {
            "action": "Hizmeti ekleyip miktar veya birim fiyatını değiştirin, ardından 'Hizmetleri kaydet' butonuna basın.",
            "expected_result": "Panel kapanır; 'Proje hizmetleri' kartındaki sayılar ve ek hizmet toplamı güncellenir."
          },
          {
            "action": "Finansal özet kartındaki 'Proje toplamı' ve 'Kalan tutar' alanlarını inceleyin.",
            "expected_result": "Tutarlar yeni hizmet bedeline göre yeniden hesaplanmıştır."
          }
        ],
        "expected_result": "Hizmet fiyatı/miktarı değiştiğinde finansal özet (sözleşme toplamı, KDV, kalan tutar) anında doğru hesaplanır."
      },
      {
        "external_id": "CRM-PROJECTS-318",
        "title": "Kanban’da stage değiştirme panelden takip ediliyor",
        "description": "Proje panelinde yapılan statü değişikliğinin Kanban ilerlemesine yansımasını doğrular.",
        "steps": [
          {
            "action": "Kanban görünümünde bir projeyi seçip panelde statüsünü değiştirin (ör. 'Planlandı' → 'Teslimatta').",
            "expected_result": "Panel kapanmadan toast statünün değiştiğini bildirir."
          },
          {
            "action": "Paneli kapatıp Kanban sütunlarını inceleyin.",
            "expected_result": "Projeyi yeni statü sütununun en üst sırasında görürsünüz; kart otomatik olarak listenin başına taşınmıştır."
          }
        ],
        "expected_result": "Panelde yapılan statü değişimi Kanban sütunlarına anında yansır ve kart yeni sütunun tepesine taşınır."
      },
      {
        "external_id": "CRM-PROJECTS-319",
        "title": "Kanban’da sürükleyip bırakma ve yeni projelerin sırası",
        "description": "Sürüklenen kartların doğru sütunda ve sırada kaldığını, yeni projelerin stage’in en üstüne eklendiğini doğrular.",
        "steps": [
          {
            "action": "Kanban görünümünde bir projeyi farklı bir statü sütununa sürükleyip bırakın.",
            "expected_result": "Kart yeni sütuna taşınır, küçük başarı mesajı çıkar ve bir süre sonra yerinde kalır."
          },
          {
            "action": "Yeni bir proje oluşturup tekrar Kanban’a dönün.",
            "expected_result": "Yeni proje varsayılan statü sütununun en üstünde, listedeki ilk kart olarak görünür."
          },
          {
            "action": "Sürüklediğiniz karta dönüp sayfayı yenileyin.",
            "expected_result": "Kart hâlâ yeni sütundadır ve bıraktığınız sırayı korur."
          }
        ],
        "expected_result": "Kanban sürükle-bırak işlemleri kalıcıdır; yeni projeler ilgili sütunun en üstüne yerleşir ve yeniden yükleme sonrası da aynı sırada kalır."
      },
      {
        "external_id": "CRM-PROJECTS-320",
        "title": "Ayarlar’da eklenen proje aşamasını panelden kullanma",
        "description": "Ayarlar > Projeler ekranında oluşturulan yeni aşamanın ProjectStatusBadge menüsüne anında yansıdığını ve seçildiğinde korunmasını doğrular.",
        "steps": [
          {
            "action": "Ayarlar > Projeler sayfasını açıp 'Aşama ekle' butonuna basın.",
            "expected_result": "Yeni aşama diyaloğu açılır."
          },
          {
            "action": "İsim alanına benzersiz bir metin (ör. 'Retouch Tamamlandı') yazın, bir renk seçip kaydedin.",
            "expected_result": "Toast başarı mesajı gösterir ve yeni rozet listede görünür."
          },
          {
            "action": "Herhangi bir projeyi açıp başlığın yanındaki durum rozetine tıklayın.",
            "expected_result": "Açılır menüde az önce eklediğiniz aşama seçeneği listelenir."
          },
          {
            "action": "Yeni aşamayı seçip paneli kapatın.",
            "expected_result": "Rozet yeni renge döner, Aktivite kartında statü değişikliğine dair kayıt oluşur."
          },
          {
            "action": "Sayfayı yenileyin veya Projeyi Gör panelini tekrar açın.",
            "expected_result": "Seçilen aşama korunur ve menüde aynı etiket hâlâ mevcuttur."
          }
        ],
        "expected_result": "Ayarlar’dan eklenen aşamalar tüm proje yüzeylerinde seçilebilir ve seçildikten sonra kalıcı olarak saklanır."
      },
      {
        "external_id": "CRM-PROJECTS-321",
        "title": "Aşama sıralamasındaki değişikliklerin proje menüsüne yansıması",
        "description": "Drag & drop ile yeniden sıralanan proje aşamalarının ProjectStatusBadge açılır listesinde aynı sırayla göründüğünü doğrular.",
        "steps": [
          {
            "action": "Ayarlar > Projeler sayfasında iki aşamanın tutamacını sürükleyerek yerlerini değiştirin.",
            "expected_result": "Bilgi mesajı yeni sıralamanın kaydedildiğini söyler."
          },
          {
            "action": "Aynı hesaptaki açık bir proje detay sayfasını yenileyip durum rozetine tıklayın.",
            "expected_result": "Açılır menüde aşamalar ayarlarda belirlediğiniz yeni sıraya göre dizilmiştir."
          },
          {
            "action": "Farklı bir aşamayı seçin ve paneli kapatın.",
            "expected_result": "Proje rozeti seçtiğiniz aşamayı gösterir; Aktivite kartı değişikliği kaydeder."
          }
        ],
        "expected_result": "Merkezi aşama sıralaması güncellendiğinde tüm proje menüleri aynı sıralamayı takip eder."
      },
      {
        "external_id": "CRM-PROJECTS-322",
        "title": "Projeler listesindeki lazy load",
        "description": "/projects sayfasında 25’ten fazla kayıt bulunduğunda liste sonuna gelince yeni kayıtların otomatik yüklendiğini doğrular.",
        "steps": [
          {
            "action": "Projeler listesinde filtreleri temizleyip aşağı doğru kaydırın.",
            "expected_result": "Tablonun altında \"Load more\" alanı ve dönen ikon için ayrılmış boşluk görünür."
          },
          {
            "action": "Liste sonuna ulaşın veya Page Down ile birkaç kez ilerleyin.",
            "expected_result": "Yükleme ikonu kısa süre görünür ve ardından yeni proje kartları tabloya eklenir."
          },
          {
            "action": "Toplam satır sayısı arttıktan sonra yeniden alta kaydırın.",
            "expected_result": "Her seferinde aynı davranış tekrarlar; sayfa yenilenmeden tüm kayıtlar sırayla yüklenir."
          }
        ],
        "expected_result": "Projeler sayfası sonsuz kaydırma ile yeni kayıtları gerektiğinde arka planda getirir."
      },
      {
        "external_id": "CRM-PROJECTS-323",
        "title": "Aktif projeleri Excel’e aktarma",
        "description": "Projeler sayfasındaki 'Excel'e aktar' butonunun yalnızca veri olduğunda aktif olduğunu ve başarıyla dosya indirdiğini doğrular.",
        "steps": [
          {
            "action": "Aktif projeler sekmesinde filtreleri temizleyip en az bir satır olduğundan emin olun.",
            "expected_result": "Üst çubuktaki 'Excel'e aktar' butonu aktif görünür."
          },
          {
            "action": "Butona tıklayın.",
            "expected_result": "Butonda dönen ikon görünür ve tarayıcı `projects-YYYY-MM-DD_HHmm.xlsx` dosyasını indirir."
          },
          {
            "action": "Sağ alt köşedeki bildirimi kontrol edin.",
            "expected_result": "Yeşil toast 'Dışa aktarma hazır' metnini gösterir."
          }
        ],
        "expected_result": "Aktif projeler listesi Excel’e aktarıldığında kullanıcıya başarı mesajı verilir ve dosya indirilir."
      },
      {
        "external_id": "CRM-PROJECTS-324",
        "title": "Arşivli projeler sekmesini dışa aktarma",
        "description": "Arşiv sekmesindeki ayrı export butonunun yalnızca arşivde veri olduğunda çalıştığını doğrular.",
        "steps": [
          {
            "action": "Arşivli projeler sekmesini açın ve en az bir kayıt olduğundan emin olun.",
            "expected_result": "Sekmenin sağ üstünde ayrı bir 'Excel'e aktar' butonu görünür."
          },
          {
            "action": "Butona tıklayın.",
            "expected_result": "Buton kısa süre 'Loading' ikonuna döner ve arşiv projelerini içeren Excel dosyası indirilir."
          },
          {
            "action": "Butonu arşivde hiç kayıt yokken tekrar deneyin.",
            "expected_result": "Buton disabled kalır ve tıklanamaz; export işlemi tetiklenmez."
          }
        ],
        "expected_result": "Arşiv sekmesindeki export yalnızca veri varsa çalışır ve aktif sekmeden bağımsızdır."
      },
      {
        "external_id": "CRM-PROJECTS-330",
        "title": "Proje detay sayfasında sticky sekme navigasyonu",
        "description": "Detay sayfasının üstündeki sekme çubuğunun (Genel Bakış, Ödemeler, Hizmetler, Seanslar, Aktivite, Yapılacaklar) hedef başlıkları gizlemeden kaydırdığını doğrular.",
        "steps": [
          {
            "action": "Herhangi bir projeyi tam sayfa /projects/:id görünümünde açın ve sekme çubuğundan \"Ödemeler\" butonuna tıklayın.",
            "expected_result": "Sayfa ödemeler kartına kayar; \"Ödemeler\" başlığı sticky barın hemen altında tamamen görünür, blur alanı üstünü kapatmaz."
          },
          {
            "action": "\"Hizmetler\" veya \"Seanslar\" sekmesine tıklayın.",
            "expected_result": "İlgili bölüm başlığı yine çubuğun altında kalır, nav scroll sırasında ekranın üstüne yapışık kalmaya devam eder."
          },
          {
            "action": "\"Genel Bakış\" sekmesini seçin veya en üste çıkın.",
            "expected_result": "Sayfa en üste yumuşak şekilde kayar, header ile navigasyon arasında boşluk oluşmaz."
          }
        ],
        "expected_result": "Proje detayındaki tüm sekmeler başlıkları gizlemeden doğru konuma götürür ve sticky çubuk kaydırma boyunca görünür kalır."
      },
      {
        "external_id": "CRM-PROJECTS-331",
        "title": "Projeyi Gör sheet'inde bölüm geçişleri sheet içinde kayar",
        "description": "Lead detayındaki 'Projeyi Gör' veya /projects listesindeki hızlı görünüm sheet'inde aynı sekme çubuğunun yalnızca sheet içini kaydırdığını ve arka planı etkilemediğini doğrular.",
        "steps": [
          {
            "action": "Herhangi bir lead veya proje satırından 'Projeyi Gör' sheet'ini açın.",
            "expected_result": "Sheet üstünde Genel Bakış / Ödemeler / Hizmetler / Seanslar / Aktivite / Yapılacaklar sekme çubuğu görünür."
          },
          {
            "action": "Sheet açıkken \"Ödemeler\" sekmesine tıklayın ve aynı anda ana sayfanın scroll durumunu izleyin.",
            "expected_result": "Sheet içeriği kayar, \"Ödemeler\" başlığı blur alanının altında kalmaz ve arka plan sayfasının scroll pozisyonu değişmez."
          },
          {
            "action": "\"Aktivite\" gibi başka bir sekmeye tıklayın ve sheet'i kapatmadan tekrar \"Genel Bakış\"ı seçin.",
            "expected_result": "Her seçim sheet içinde yumuşak kaydırma yapar, navigasyon barı sheet top’ına yapışık kalır ve başlık çakışması olmaz."
          }
        ],
        "expected_result": "Projeyi Gör sheet'i, tam sayfa görünümle aynı sekme etiketlerini kullanır ve kaydırma sadece sheet içinde gerçekleşir."
      }
    ]
  }
]
